<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link rel="stylesheet" href="checkout.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
      /* Basic styling for modal */
      #confirmation-modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
      }
      .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
      }
      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }
      .close:hover,
      .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
      }
      .checkout-item {
        display: flex;
        align-items: center; /* Align items vertically */
        margin-bottom: 10px; /* Space between items */
      }
      .checkout-item-image {
        width: 50px; /* Image size */
        height: auto; /* Maintain aspect ratio */
        margin-right: 10px; /* Space between image and text */
      }
    </style>
  </head>
  <body>
    <h5>Please provide your delivery information!</h5>
    <!-- Delivery Section -->
    <section class="delivery">
      <div class="container">
        <div class="delivery_content">
          <div class="delivery_content_left">
            <!-- Form starts here -->
            <form id="checkout-form">
              <!-- Name input -->
              <div class="name">
                <h6><label for="username">Full Name:</label></h6>
                <input
                  type="text"
                  id="username"
                  name="username"
                  required
                  aria-label="Full Name"
                />
              </div>
              <!-- Phone input -->
              <div class="phone-number">
                <h6><label for="phone">Contact Phone Number:</label></h6>
                <input
                  type="text"
                  id="phone"
                  name="phone"
                  required
                  pattern="\d{10,15}"
                  title="Enter a valid phone number (10-15 digits)"
                  aria-label="Contact Phone Number"
                />
              </div>
              <!-- Address input -->
              <div class="address-big">
                <h6>Delivery Address:</h6>
                <div>
                  <!-- City, district, ward dropdowns -->
                  <select id="city" name="city" required aria-label="City">
                    <option value="" selected>Select City</option>
                  </select>
                  <select
                    id="district"
                    name="district"
                    required
                    aria-label="District"
                  >
                    <option value="" selected>Select District</option>
                  </select>
                  <select id="ward" name="ward" required aria-label="Ward">
                    <option value="" selected>Select Ward</option>
                  </select>
                </div>
                <!-- Street address -->
                <div>
                  <h6>
                    <label for="address">House Number, Street Name:</label>
                  </h6>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    class="address"
                    required
                    aria-label="House Number, Street Name"
                  />
                </div>
                <!-- Delivery time options -->
                <div class="tick">
                  <input
                    type="radio"
                    id="now"
                    name="deli"
                    value="now"
                    checked
                  />
                  <label for="now">Deliver Now</label><br />
                  <input type="radio" id="later" name="deli" value="later" />
                  <label for="later">Schedule Delivery</label>
                  <input
                    type="time"
                    id="delivery-time"
                    name="delivery-time"
                    style="display: none"
                    aria-label="Scheduled Delivery Time"
                  />
                </div>
              </div>
            </form>
          </div>
          <!-- Order Summary and Checkout Items -->
          <div class="delivery-content-right">
            <h4>Selected Items</h4>
            <div id="checkout-items"></div>
            <table>
              <tr>
                <th colspan="2">ORDER SUMMARY</th>
              </tr>
              <tr>
                <td>Total Products</td>
                <td id="total-products">0</td>
              </tr>
              <tr>
                <td>Subtotal</td>
                <td class="sl1"><p id="subtotal">0</p></td>
              </tr>
              <tr>
                <td>Discount</td>
                <td id="discount-message">0</td>
              </tr>
              <tr>
                <td colspan="2">
                  <div class="discount-container">
                    <label for="discount-code">Discount Code:</label>
                    <input
                      type="text"
                      id="discount-code"
                      placeholder="Enter code here"
                    />
                    <button id="apply-discount">Apply</button>
                  </div>
                </td>
              </tr>
              <tr>
                <td>Total</td>
                <td>
                  <p id="total" style="color: black; font-weight: bold">0</p>
                </td>
              </tr>
            </table>

            <div class="done">
              <!-- Payment Method Section -->
              <div class="payment-method">
                <h4>Payment Method:</h4>
                <select
                  id="payment-method"
                  name="payment-method"
                  required
                  aria-label="Payment Method"
                >
                  <option value="" selected>Select Payment Method</option>
                  <option value="credit-card">Credit Card</option>
                  <option value="paypal">PayPal</option>
                  <option value="cod">Cash on Delivery</option>
                </select>
              </div>
            </div>

            <!-- Payment Button -->
            <div class="button-container">
              <button id="pay-btn" type="button">PAY NOW</button>
              <button
                class="back"
                type="button"
                onclick="window.location.href='cart.html';"
              >
                BACK
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal for Payment Confirmation -->
    <div id="confirmation-modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Confirm Payment</h2>
        <p>Are you sure you want to proceed with the payment?</p>
        <button id="confirm-payment">Confirm</button>
        <button id="cancel-payment">Cancel</button>
      </div>
    </div>

    <script src="./checkout.js"></script>
  </body>
</html>
